# DataTrace 文档目录

## 项目概述

DataTrace 是一个通用的数据同步中间件,采用 Source-Transformer-Sink 管道模型,支持多种数据源之间的灵活数据同步和转换。

## 文档列表

### 1. [架构设计文档](./01-架构设计.md)
- 项目整体架构
- 技术选型
- 核心模块设计
- 目录结构
- 性能设计
- 扩展性设计

**适合人群**: 架构师、技术负责人、新加入的开发人员

### 2. [数据模型设计文档](./02-数据模型设计.md)
- 数据库表结构
- 数据模型定义
- 字段说明
- 索引设计
- 数据字典

**适合人群**: 后端开发人员、数据库管理员

### 3. [API接口设计文档](./03-API接口设计.md)
- RESTful API规范
- 接口列表
- 请求/响应格式
- 错误码说明
- 认证方式

**适合人群**: 前端开发人员、接口对接人员、测试人员

### 4. [管道设计文档](./04-管道设计.md)
- Source-Transformer-Sink模型详解
- 各组件接口定义
- 数据转换规则
- Pipeline编排
- 性能优化策略

**适合人群**: 核心开发人员、需要扩展新数据源的开发者

### 5. [开发计划文档](./05-开发计划.md)
- 项目里程碑
- 详细开发任务
- 文件清单
- 验收标准
- 开发规范
- 风险评估

**适合人群**: 项目管理者、开发团队

## 快速开始

### 第一次阅读建议顺序:

1. **了解项目** → 阅读 [架构设计文档](./01-架构设计.md)
2. **理解数据** → 阅读 [数据模型设计文档](./02-数据模型设计.md)
3. **熟悉接口** → 阅读 [API接口设计文档](./03-API接口设计.md)
4. **深入核心** → 阅读 [管道设计文档](./04-管道设计.md)
5. **开始开发** → 阅读 [开发计划文档](./05-开发计划.md)

### 不同角色的阅读建议:

**项目经理/产品经理**:
- 架构设计文档 (了解整体架构)
- 开发计划文档 (了解开发进度)

**后端开发人员**:
- 全部文档 (完整理解项目)

**前端开发人员**:
- API接口设计文档 (接口对接)
- 数据模型设计文档 (理解数据结构)

**测试人员**:
- API接口设计文档 (接口测试)
- 开发计划文档 (测试计划)

**运维人员**:
- 架构设计文档 (部署架构)
- 开发计划文档 (部署方案)

## 核心特性

### 1. 灵活的管道模型
采用 Source-Transformer-Sink 三段式设计,各组件独立可扩展

### 2. 多种同步模式
- 全量同步: 一次性同步所有数据
- 增量同步(时间戳): 基于更新时间字段
- 增量同步(Binlog): 实时监听数据变更

### 3. 强大的数据转换
- 字段映射
- 类型转换
- 数据过滤
- 默认值处理

### 4. 实时监控
- 同步进度追踪
- 性能指标统计
- 详细日志记录

### 5. 高性能
- 批量处理
- 并发控制
- 连接池优化
- 目标: 50,000+ 行/秒

## 技术栈

- **语言**: Go 1.21+
- **Web框架**: Gin
- **ORM**: GORM
- **配置**: Viper
- **日志**: Zap
- **调度**: robfig/cron
- **协程池**: ants
- **Binlog**: go-mysql

## 项目结构

```
datatrace/
├── api/              # API接口层
├── models/           # 数据模型
├── services/         # 业务逻辑
├── pipeline/         # 管道核心
│   ├── source/      # 数据源
│   ├── transformer/ # 转换器
│   └── sink/        # 写入器
├── scheduler/        # 任务调度
├── monitor/          # 监控模块
├── routers/          # 路由
├── common/           # 中间件
├── config/           # 配置
├── database/         # 数据库
├── utils/            # 工具
├── docs/             # 文档
└── main.go           # 入口
```

## 开发阶段

### ✅ 阶段0: 文档设计 (已完成)
- 架构设计文档
- 数据模型设计文档
- API接口设计文档
- 管道设计文档
- 开发计划文档

### 🔄 阶段1: 基础框架 (进行中)
- 项目初始化
- 配置管理
- 数据库初始化
- Web框架搭建

### ⏳ 阶段2: MySQL全量同步 (待开始)
- 连接管理
- 任务管理
- Pipeline实现
- 全量同步功能

### ⏳ 阶段3: 增量同步 (待开始)
- 时间戳增量
- Binlog监听
- 断点续传

### ⏳ 阶段4: 监控和调度 (待开始)
- 任务调度
- 进度监控
- 日志管理

### ⏳ 阶段5: 优化和测试 (待开始)
- 性能优化
- 单元测试
- 集成测试
- 文档完善

## 联系方式

如有问题或建议,请通过以下方式联系:

- 项目仓库: [待添加]
- 问题反馈: [待添加]
- 邮箱: [待添加]

## 更新日志

### 2024-01-01
- 创建项目文档
- 完成架构设计
- 完成数据模型设计
- 完成API接口设计
- 完成管道设计
- 完成开发计划

---

**注意**: 本文档会随着项目开发持续更新,请关注最新版本。
